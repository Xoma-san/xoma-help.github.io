# Работа с Git

## Алгоритм работы 

Алгоритм работы с Гитом можно описать общим сценарием *"правим доки-индексируем-коммитим-пушим"*:

1.  Если мы не знаем, коммитил ли кто-то без нас, то нам необходимо
    подтянуть себе актуальную версию проекта, для этого пишем git pull.

2.  Проверить ветки в проекте, включая удаленный репозиторий:

> git branch -a

3.  Если не помним, в какой ветке работаем, можем уточнить ее командой

> git status
>
> Если ветка неправильная, то переходим в нужную командой
>
> git checkout NazvanieVetki
>
> Если нужной никто еще придумал, то создаем ее
>
> git checkout -b NazvanieVetki
>
> После этого ведем работу с файлами локального репозитория (создаем,
> изменяем, удаляем).

4.  Делаем новые или измененные файлы (в которых велась работа)
    проиндексированными: git add. Данная команда говорит системе: «Вот
    это пойдет в коммит». Команда может иметь формат:

5.  git add Nazvanie       /\* для файла/папки \*/

> git add .                    /\* для всего в репозитории \*/

6.  Создаем новый коммит (текущую «точку работы»), лучше с комментарием,
    описывающим, что именно было изменено в коммите:

> git commit -m \"исправлены ошибки пунктуации в разделе 1.1\".   
>  /\*локально создали коммит\*/

7.  Чтобы наши изменения попали на серверное хранилище мы пишем

> git push    /\*коммит попал на сервер\*/

## Взаимодействие с Гитом 

У гита для работы есть 3 варианта взаимодействия: CMD, Bash и GUI.

CMD -- похож на командную строку Windows. Работает только в нем.

Bash -- командная оболочка Linux и MacOS/

GUI -- пользовательский графический интерфейс (кнопочки-картиночки).

Мне удобен bash. А так -- что удобно, то и можно использовать. Алгоритм
един для всех вариантов отображения.

## Ветки и их использование 

Наша головная ветка мастер будет в идеале используется только для
хранения выпускаемых комплектов (первичная печать, перепечать листов по
итогам правок).

Для работы над документами необходимо создавать и использовать ветки с
названием, гарантировано дающим понимание, что мы делаем (Опечатки,
НК15-09-24, ВП10-10-24). Вся работа над документами ведется в
маркдаун-файлах для накопления изменений. По итогам внесения правок
формируем промежуточные ворд-документы (можно на каждую правку
.мд-документов, можно только итогово). Формирование ворд-документов для
выпуска (возможно, что без изменений .мд-документов, так как требуется
только верстка) -- последний пуш текущей ветки.\
После этого ветка вливается в мастер -- формируется итоговый на текущий
момент комплект документов.

Веток может быть несколько. И формирование итогового комплекта с
использованием одной из веток не влияет на жизнь других веток.
(Например, мы перевыпускаем замечания от НПС, но пока не трогаем
замечания ВП). Изменения в ветках могут быть подтянуты в другие ветки
или (если нет конфликтов, которые обрабатываются и подсвечиваются Гитом
и должны быть обработаны вручную) ветка может быть независимо быть влита
в мастер.

Работу над документами маркдауна и ворда можно вести и параллельно.
Индексация-коммит-пуш ворд-документов не обязательно выполняется в
каждым изменением .мд-документов и может выполняться только при
завершении работы с веткой. При этом в коммите обязательно отмечаем, что
запушено, например git commit -m \"исправлены ошибки пунктуации в
разделе 1.1. Без верстки docx\". git commit -m \"исправлены опечатки в
строка 45 и 68. Сверстан docx\".   
